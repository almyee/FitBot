{"ast":null,"code":"import { unpack } from '../../utils/index.js';\nimport multiplyMatrices from '../../utils/multiply-matrices.js';\nimport { xyz2rgb } from '../lab/lab2rgb.js';\nconst oklab2rgb = (...args) => {\n  args = unpack(args, 'lab');\n  const [L, a, b, ...rest] = args;\n  const [X, Y, Z] = OKLab_to_XYZ([L, a, b]);\n  const [r, g, b_] = xyz2rgb(X, Y, Z);\n  return [r, g, b_, ...(rest.length > 0 && rest[0] < 1 ? [rest[0]] : [])];\n};\n\n// from https://www.w3.org/TR/css-color-4/#color-conversion-code\nfunction OKLab_to_XYZ(OKLab) {\n  // Given OKLab, convert to XYZ relative to D65\n  var LMStoXYZ = [[1.2268798758459243, -0.5578149944602171, 0.2813910456659647], [-0.0405757452148008, 1.112286803280317, -0.0717110580655164], [-0.0763729366746601, -0.4214933324022432, 1.5869240198367816]];\n  var OKLabtoLMS = [[1.0, 0.3963377773761749, 0.2158037573099136], [1.0, -0.1055613458156586, -0.0638541728258133], [1.0, -0.0894841775298119, -1.2914855480194092]];\n  var LMSnl = multiplyMatrices(OKLabtoLMS, OKLab);\n  return multiplyMatrices(LMStoXYZ, LMSnl.map(c => c ** 3));\n}\nexport default oklab2rgb;","map":{"version":3,"names":["unpack","multiplyMatrices","xyz2rgb","oklab2rgb","args","L","a","b","rest","X","Y","Z","OKLab_to_XYZ","r","g","b_","length","OKLab","LMStoXYZ","OKLabtoLMS","LMSnl","map","c"],"sources":["/Users/alyssayee/Library/Mobile Documents/com~apple~CloudDocs/School/College/UCD/Classes/ECS 273/github/FitBot/fitbot/node_modules/chroma-js/src/io/oklab/oklab2rgb.js"],"sourcesContent":["import { unpack } from '../../utils/index.js';\nimport multiplyMatrices from '../../utils/multiply-matrices.js';\nimport { xyz2rgb } from '../lab/lab2rgb.js';\n\nconst oklab2rgb = (...args) => {\n    args = unpack(args, 'lab');\n    const [L, a, b, ...rest] = args;\n    const [X, Y, Z] = OKLab_to_XYZ([L, a, b]);\n    const [r, g, b_] = xyz2rgb(X, Y, Z);\n    return [r, g, b_, ...(rest.length > 0 && rest[0] < 1 ? [rest[0]] : [])];\n};\n\n// from https://www.w3.org/TR/css-color-4/#color-conversion-code\nfunction OKLab_to_XYZ(OKLab) {\n    // Given OKLab, convert to XYZ relative to D65\n    var LMStoXYZ = [\n        [1.2268798758459243, -0.5578149944602171, 0.2813910456659647],\n        [-0.0405757452148008, 1.112286803280317, -0.0717110580655164],\n        [-0.0763729366746601, -0.4214933324022432, 1.5869240198367816]\n    ];\n    var OKLabtoLMS = [\n        [1.0, 0.3963377773761749, 0.2158037573099136],\n        [1.0, -0.1055613458156586, -0.0638541728258133],\n        [1.0, -0.0894841775298119, -1.2914855480194092]\n    ];\n\n    var LMSnl = multiplyMatrices(OKLabtoLMS, OKLab);\n    return multiplyMatrices(\n        LMStoXYZ,\n        LMSnl.map((c) => c ** 3)\n    );\n}\n\nexport default oklab2rgb;\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,sBAAsB;AAC7C,OAAOC,gBAAgB,MAAM,kCAAkC;AAC/D,SAASC,OAAO,QAAQ,mBAAmB;AAE3C,MAAMC,SAAS,GAAGA,CAAC,GAAGC,IAAI,KAAK;EAC3BA,IAAI,GAAGJ,MAAM,CAACI,IAAI,EAAE,KAAK,CAAC;EAC1B,MAAM,CAACC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE,GAAGC,IAAI,CAAC,GAAGJ,IAAI;EAC/B,MAAM,CAACK,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,GAAGC,YAAY,CAAC,CAACP,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,CAAC;EACzC,MAAM,CAACM,CAAC,EAAEC,CAAC,EAAEC,EAAE,CAAC,GAAGb,OAAO,CAACO,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;EACnC,OAAO,CAACE,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE,IAAIP,IAAI,CAACQ,MAAM,GAAG,CAAC,IAAIR,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAACA,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;AAC3E,CAAC;;AAED;AACA,SAASI,YAAYA,CAACK,KAAK,EAAE;EACzB;EACA,IAAIC,QAAQ,GAAG,CACX,CAAC,kBAAkB,EAAE,CAAC,kBAAkB,EAAE,kBAAkB,CAAC,EAC7D,CAAC,CAAC,kBAAkB,EAAE,iBAAiB,EAAE,CAAC,kBAAkB,CAAC,EAC7D,CAAC,CAAC,kBAAkB,EAAE,CAAC,kBAAkB,EAAE,kBAAkB,CAAC,CACjE;EACD,IAAIC,UAAU,GAAG,CACb,CAAC,GAAG,EAAE,kBAAkB,EAAE,kBAAkB,CAAC,EAC7C,CAAC,GAAG,EAAE,CAAC,kBAAkB,EAAE,CAAC,kBAAkB,CAAC,EAC/C,CAAC,GAAG,EAAE,CAAC,kBAAkB,EAAE,CAAC,kBAAkB,CAAC,CAClD;EAED,IAAIC,KAAK,GAAGnB,gBAAgB,CAACkB,UAAU,EAAEF,KAAK,CAAC;EAC/C,OAAOhB,gBAAgB,CACnBiB,QAAQ,EACRE,KAAK,CAACC,GAAG,CAAEC,CAAC,IAAKA,CAAC,IAAI,CAAC,CAC3B,CAAC;AACL;AAEA,eAAenB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}