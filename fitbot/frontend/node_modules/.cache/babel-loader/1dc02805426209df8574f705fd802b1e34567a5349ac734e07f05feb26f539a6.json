{"ast":null,"code":"// from https://www.w3.org/TR/css-color-4/multiply-matrices.js\nexport default function multiplyMatrices(A, B) {\n  let m = A.length;\n  if (!Array.isArray(A[0])) {\n    // A is vector, convert to [[a, b, c, ...]]\n    A = [A];\n  }\n  if (!Array.isArray(B[0])) {\n    // B is vector, convert to [[a], [b], [c], ...]]\n    B = B.map(x => [x]);\n  }\n  let p = B[0].length;\n  let B_cols = B[0].map((_, i) => B.map(x => x[i])); // transpose B\n  let product = A.map(row => B_cols.map(col => {\n    if (!Array.isArray(row)) {\n      return col.reduce((a, c) => a + c * row, 0);\n    }\n    return row.reduce((a, c, i) => a + c * (col[i] || 0), 0);\n  }));\n  if (m === 1) {\n    product = product[0]; // Avoid [[a, b, c, ...]]\n  }\n  if (p === 1) {\n    return product.map(x => x[0]); // Avoid [[a], [b], [c], ...]]\n  }\n  return product;\n}","map":{"version":3,"names":["multiplyMatrices","A","B","m","length","Array","isArray","map","x","p","B_cols","_","i","product","row","col","reduce","a","c"],"sources":["/Users/alyssayee/Library/Mobile Documents/com~apple~CloudDocs/School/College/UCD/Classes/ECS 273/github/FitBot/fitbot/node_modules/chroma-js/src/utils/multiply-matrices.js"],"sourcesContent":["// from https://www.w3.org/TR/css-color-4/multiply-matrices.js\nexport default function multiplyMatrices(A, B) {\n    let m = A.length;\n\n    if (!Array.isArray(A[0])) {\n        // A is vector, convert to [[a, b, c, ...]]\n        A = [A];\n    }\n\n    if (!Array.isArray(B[0])) {\n        // B is vector, convert to [[a], [b], [c], ...]]\n        B = B.map((x) => [x]);\n    }\n\n    let p = B[0].length;\n    let B_cols = B[0].map((_, i) => B.map((x) => x[i])); // transpose B\n    let product = A.map((row) =>\n        B_cols.map((col) => {\n            if (!Array.isArray(row)) {\n                return col.reduce((a, c) => a + c * row, 0);\n            }\n\n            return row.reduce((a, c, i) => a + c * (col[i] || 0), 0);\n        })\n    );\n\n    if (m === 1) {\n        product = product[0]; // Avoid [[a, b, c, ...]]\n    }\n\n    if (p === 1) {\n        return product.map((x) => x[0]); // Avoid [[a], [b], [c], ...]]\n    }\n\n    return product;\n}\n"],"mappings":"AAAA;AACA,eAAe,SAASA,gBAAgBA,CAACC,CAAC,EAAEC,CAAC,EAAE;EAC3C,IAAIC,CAAC,GAAGF,CAAC,CAACG,MAAM;EAEhB,IAAI,CAACC,KAAK,CAACC,OAAO,CAACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtB;IACAA,CAAC,GAAG,CAACA,CAAC,CAAC;EACX;EAEA,IAAI,CAACI,KAAK,CAACC,OAAO,CAACJ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtB;IACAA,CAAC,GAAGA,CAAC,CAACK,GAAG,CAAEC,CAAC,IAAK,CAACA,CAAC,CAAC,CAAC;EACzB;EAEA,IAAIC,CAAC,GAAGP,CAAC,CAAC,CAAC,CAAC,CAACE,MAAM;EACnB,IAAIM,MAAM,GAAGR,CAAC,CAAC,CAAC,CAAC,CAACK,GAAG,CAAC,CAACI,CAAC,EAAEC,CAAC,KAAKV,CAAC,CAACK,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrD,IAAIC,OAAO,GAAGZ,CAAC,CAACM,GAAG,CAAEO,GAAG,IACpBJ,MAAM,CAACH,GAAG,CAAEQ,GAAG,IAAK;IAChB,IAAI,CAACV,KAAK,CAACC,OAAO,CAACQ,GAAG,CAAC,EAAE;MACrB,OAAOC,GAAG,CAACC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,GAAGJ,GAAG,EAAE,CAAC,CAAC;IAC/C;IAEA,OAAOA,GAAG,CAACE,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,EAAEN,CAAC,KAAKK,CAAC,GAAGC,CAAC,IAAIH,GAAG,CAACH,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAC5D,CAAC,CACL,CAAC;EAED,IAAIT,CAAC,KAAK,CAAC,EAAE;IACTU,OAAO,GAAGA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B;EAEA,IAAIJ,CAAC,KAAK,CAAC,EAAE;IACT,OAAOI,OAAO,CAACN,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrC;EAEA,OAAOK,OAAO;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}