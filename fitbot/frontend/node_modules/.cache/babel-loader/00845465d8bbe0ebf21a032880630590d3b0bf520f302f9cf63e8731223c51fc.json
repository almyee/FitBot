{"ast":null,"code":"import LAB_CONSTANTS from './lab-constants.js';\nimport { unpack } from '../../utils/index.js';\n\n/*\n * L* [0..100]\n * a [-100..100]\n * b [-100..100]\n */\nconst lab2rgb = (...args) => {\n  args = unpack(args, 'lab');\n  const [L, a, b] = args;\n  const [x, y, z] = lab2xyz(L, a, b);\n  const [r, g, b_] = xyz2rgb(x, y, z);\n  return [r, g, b_, args.length > 3 ? args[3] : 1];\n};\nconst lab2xyz = (L, a, b) => {\n  const {\n    kE,\n    kK,\n    kKE,\n    Xn,\n    Yn,\n    Zn\n  } = LAB_CONSTANTS;\n  const fy = (L + 16.0) / 116.0;\n  const fx = 0.002 * a + fy;\n  const fz = fy - 0.005 * b;\n  const fx3 = fx * fx * fx;\n  const fz3 = fz * fz * fz;\n  const xr = fx3 > kE ? fx3 : (116.0 * fx - 16.0) / kK;\n  const yr = L > kKE ? Math.pow((L + 16.0) / 116.0, 3.0) : L / kK;\n  const zr = fz3 > kE ? fz3 : (116.0 * fz - 16.0) / kK;\n  const x = xr * Xn;\n  const y = yr * Yn;\n  const z = zr * Zn;\n  return [x, y, z];\n};\nconst compand = linear => {\n  /* sRGB */\n  const sign = Math.sign(linear);\n  linear = Math.abs(linear);\n  return (linear <= 0.0031308 ? linear * 12.92 : 1.055 * Math.pow(linear, 1.0 / 2.4) - 0.055) * sign;\n};\nconst xyz2rgb = (x, y, z) => {\n  const {\n    MtxAdaptMa,\n    MtxAdaptMaI,\n    MtxXYZ2RGB,\n    RefWhiteRGB,\n    Xn,\n    Yn,\n    Zn\n  } = LAB_CONSTANTS;\n  const As = Xn * MtxAdaptMa.m00 + Yn * MtxAdaptMa.m10 + Zn * MtxAdaptMa.m20;\n  const Bs = Xn * MtxAdaptMa.m01 + Yn * MtxAdaptMa.m11 + Zn * MtxAdaptMa.m21;\n  const Cs = Xn * MtxAdaptMa.m02 + Yn * MtxAdaptMa.m12 + Zn * MtxAdaptMa.m22;\n  const Ad = RefWhiteRGB.X * MtxAdaptMa.m00 + RefWhiteRGB.Y * MtxAdaptMa.m10 + RefWhiteRGB.Z * MtxAdaptMa.m20;\n  const Bd = RefWhiteRGB.X * MtxAdaptMa.m01 + RefWhiteRGB.Y * MtxAdaptMa.m11 + RefWhiteRGB.Z * MtxAdaptMa.m21;\n  const Cd = RefWhiteRGB.X * MtxAdaptMa.m02 + RefWhiteRGB.Y * MtxAdaptMa.m12 + RefWhiteRGB.Z * MtxAdaptMa.m22;\n  const X1 = (x * MtxAdaptMa.m00 + y * MtxAdaptMa.m10 + z * MtxAdaptMa.m20) * (Ad / As);\n  const Y1 = (x * MtxAdaptMa.m01 + y * MtxAdaptMa.m11 + z * MtxAdaptMa.m21) * (Bd / Bs);\n  const Z1 = (x * MtxAdaptMa.m02 + y * MtxAdaptMa.m12 + z * MtxAdaptMa.m22) * (Cd / Cs);\n  const X2 = X1 * MtxAdaptMaI.m00 + Y1 * MtxAdaptMaI.m10 + Z1 * MtxAdaptMaI.m20;\n  const Y2 = X1 * MtxAdaptMaI.m01 + Y1 * MtxAdaptMaI.m11 + Z1 * MtxAdaptMaI.m21;\n  const Z2 = X1 * MtxAdaptMaI.m02 + Y1 * MtxAdaptMaI.m12 + Z1 * MtxAdaptMaI.m22;\n  const r = compand(X2 * MtxXYZ2RGB.m00 + Y2 * MtxXYZ2RGB.m10 + Z2 * MtxXYZ2RGB.m20);\n  const g = compand(X2 * MtxXYZ2RGB.m01 + Y2 * MtxXYZ2RGB.m11 + Z2 * MtxXYZ2RGB.m21);\n  const b = compand(X2 * MtxXYZ2RGB.m02 + Y2 * MtxXYZ2RGB.m12 + Z2 * MtxXYZ2RGB.m22);\n  return [r * 255, g * 255, b * 255];\n};\nexport default lab2rgb;\nexport { xyz2rgb };","map":{"version":3,"names":["LAB_CONSTANTS","unpack","lab2rgb","args","L","a","b","x","y","z","lab2xyz","r","g","b_","xyz2rgb","length","kE","kK","kKE","Xn","Yn","Zn","fy","fx","fz","fx3","fz3","xr","yr","Math","pow","zr","compand","linear","sign","abs","MtxAdaptMa","MtxAdaptMaI","MtxXYZ2RGB","RefWhiteRGB","As","m00","m10","m20","Bs","m01","m11","m21","Cs","m02","m12","m22","Ad","X","Y","Z","Bd","Cd","X1","Y1","Z1","X2","Y2","Z2"],"sources":["/Users/alyssayee/Library/Mobile Documents/com~apple~CloudDocs/School/College/UCD/Classes/ECS 273/github/FitBot/fitbot/node_modules/chroma-js/src/io/lab/lab2rgb.js"],"sourcesContent":["import LAB_CONSTANTS from './lab-constants.js';\nimport { unpack } from '../../utils/index.js';\n\n/*\n * L* [0..100]\n * a [-100..100]\n * b [-100..100]\n */\nconst lab2rgb = (...args) => {\n    args = unpack(args, 'lab');\n    const [L, a, b] = args;\n    const [x, y, z] = lab2xyz(L, a, b);\n    const [r, g, b_] = xyz2rgb(x, y, z);\n    return [r, g, b_, args.length > 3 ? args[3] : 1];\n};\n\nconst lab2xyz = (L, a, b) => {\n    const { kE, kK, kKE, Xn, Yn, Zn } = LAB_CONSTANTS;\n\n    const fy = (L + 16.0) / 116.0;\n    const fx = 0.002 * a + fy;\n    const fz = fy - 0.005 * b;\n\n    const fx3 = fx * fx * fx;\n    const fz3 = fz * fz * fz;\n\n    const xr = fx3 > kE ? fx3 : (116.0 * fx - 16.0) / kK;\n    const yr = L > kKE ? Math.pow((L + 16.0) / 116.0, 3.0) : L / kK;\n    const zr = fz3 > kE ? fz3 : (116.0 * fz - 16.0) / kK;\n\n    const x = xr * Xn;\n    const y = yr * Yn;\n    const z = zr * Zn;\n\n    return [x, y, z];\n};\n\nconst compand = (linear) => {\n    /* sRGB */\n    const sign = Math.sign(linear);\n    linear = Math.abs(linear);\n    return (\n        (linear <= 0.0031308\n            ? linear * 12.92\n            : 1.055 * Math.pow(linear, 1.0 / 2.4) - 0.055) * sign\n    );\n};\n\nconst xyz2rgb = (x, y, z) => {\n    const { MtxAdaptMa, MtxAdaptMaI, MtxXYZ2RGB, RefWhiteRGB, Xn, Yn, Zn } =\n        LAB_CONSTANTS;\n\n    const As = Xn * MtxAdaptMa.m00 + Yn * MtxAdaptMa.m10 + Zn * MtxAdaptMa.m20;\n    const Bs = Xn * MtxAdaptMa.m01 + Yn * MtxAdaptMa.m11 + Zn * MtxAdaptMa.m21;\n    const Cs = Xn * MtxAdaptMa.m02 + Yn * MtxAdaptMa.m12 + Zn * MtxAdaptMa.m22;\n\n    const Ad =\n        RefWhiteRGB.X * MtxAdaptMa.m00 +\n        RefWhiteRGB.Y * MtxAdaptMa.m10 +\n        RefWhiteRGB.Z * MtxAdaptMa.m20;\n    const Bd =\n        RefWhiteRGB.X * MtxAdaptMa.m01 +\n        RefWhiteRGB.Y * MtxAdaptMa.m11 +\n        RefWhiteRGB.Z * MtxAdaptMa.m21;\n    const Cd =\n        RefWhiteRGB.X * MtxAdaptMa.m02 +\n        RefWhiteRGB.Y * MtxAdaptMa.m12 +\n        RefWhiteRGB.Z * MtxAdaptMa.m22;\n\n    const X1 =\n        (x * MtxAdaptMa.m00 + y * MtxAdaptMa.m10 + z * MtxAdaptMa.m20) *\n        (Ad / As);\n    const Y1 =\n        (x * MtxAdaptMa.m01 + y * MtxAdaptMa.m11 + z * MtxAdaptMa.m21) *\n        (Bd / Bs);\n    const Z1 =\n        (x * MtxAdaptMa.m02 + y * MtxAdaptMa.m12 + z * MtxAdaptMa.m22) *\n        (Cd / Cs);\n\n    const X2 =\n        X1 * MtxAdaptMaI.m00 + Y1 * MtxAdaptMaI.m10 + Z1 * MtxAdaptMaI.m20;\n    const Y2 =\n        X1 * MtxAdaptMaI.m01 + Y1 * MtxAdaptMaI.m11 + Z1 * MtxAdaptMaI.m21;\n    const Z2 =\n        X1 * MtxAdaptMaI.m02 + Y1 * MtxAdaptMaI.m12 + Z1 * MtxAdaptMaI.m22;\n\n    const r = compand(\n        X2 * MtxXYZ2RGB.m00 + Y2 * MtxXYZ2RGB.m10 + Z2 * MtxXYZ2RGB.m20\n    );\n    const g = compand(\n        X2 * MtxXYZ2RGB.m01 + Y2 * MtxXYZ2RGB.m11 + Z2 * MtxXYZ2RGB.m21\n    );\n    const b = compand(\n        X2 * MtxXYZ2RGB.m02 + Y2 * MtxXYZ2RGB.m12 + Z2 * MtxXYZ2RGB.m22\n    );\n\n    return [r * 255, g * 255, b * 255];\n};\n\nexport default lab2rgb;\nexport { xyz2rgb };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}